(this["webpackJsonpreact-md-table-generator"]=this["webpackJsonpreact-md-table-generator"]||[]).push([[0],{11:function(e,t,n){e.exports={button:"Button_button__1BIMs",icon:"Button_icon__2k8j2",enabled:"Button_enabled__RoEC-",text:"Button_text__1WDVF","type-flat":"Button_type-flat__1y7_4","type-colorful":"Button_type-colorful__1gOti","type-highlight":"Button_type-highlight__37_1G","size-medium":"Button_size-medium__2XibO"}},12:function(e,t,n){e.exports={modal:"Modal_modal__3DAc5",background:"Modal_background__3rBWc",header:"Modal_header__3COhB",closeButton:"Modal_closeButton__3lqa2",body:"Modal_body__28NTM",footer:"Modal_footer__2BC6n"}},14:function(e,t,n){e.exports={mainContent:"Layout_mainContent__3iGo0",landingPage:"Layout_landingPage__LxwHh",importMarkdownTextArea:"Layout_importMarkdownTextArea__2kp4K"}},23:function(e,t,n){},27:function(e,t,n){e.exports={textArea:"TextArea_textArea__3UN11"}},28:function(e,t,n){e.exports=n(41)},38:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(15),o=n.n(c),l=n(2),u=(n(38),n(5)),i=n.n(u),s=function(e,t){return{type:"TABLE_SET_ACTIVE_CELL",payload:{activeRow:e,activeColumn:t}}},m=function(e){return{type:"TABLE_IMPORT_DATA",payload:{markdown:e}}},d={State:{rows:"rows",rowCount:"rowCount",columnCount:"columnCount",editingCell:"editingCell",activeRow:"activeRow",activeColumn:"activeColumn",maxColumnLength:"maxColumnLength"}},E=function(e,t,n){return function(a){return f(a,e,t,n)}};function f(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.table.getIn([d.State.rows,t,n]);return a.removeLastBR&&r&&r.endsWith("<br>")&&(r=r.slice(0,-4)),r}var g=function(){return function(e){return e.table.get(d.State.rowCount)}},b=function(){return function(e){return e.table.get(d.State.columnCount)}},v=function(e){return function(t){return t.table.get(d.State.columnCount)===e+1}},_=function(e){return function(t){return t.table.getIn([d.State.maxColumnLength,e])||0}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return function(n){return void 0!==e&&n.table.get(d.State.rowCount)===e||void 0!==t&&n.table.get(d.State.columnCount)===t}},O=function(e){return function(t){return t.table.getIn(["columnsAlignment",e])}},C=n(7),w=n(25),h=n.n(w);function T(e){var t=e.match(/.+/g),n=[],a=[],r=[];return t.forEach((function(e,t){if(1!==t){for(var c=e.split(/\|/g),o=0;o<c.length-1;o++)if(c[o].endsWith("\\"))for(var l=o+1;l<c.length;l++){c[o]+="|".concat(c[l]);var u=c[l];if(c[l]="",!u.endsWith("\\"))break}n.push([]);var i=0;c.forEach((function(e){var t=e.trim();e.length>0&&(n[n.length-1].push(t),a[i]=Math.max(t.length,a[i]||0),i++)}))}else{var s=e.split(/\|/g),m=!0,d=!1,E=void 0;try{for(var f,g=s[Symbol.iterator]();!(m=(f=g.next()).done);m=!0){var b=f.value;b.trim().length>0&&(3===b.split(":").length?r.push("center"):b.includes(":---")?r.push("left"):b.includes("---:")?r.push("right"):r.push(null))}}catch(v){d=!0,E=v}finally{try{m||null==g.return||g.return()}finally{if(d)throw E}}}})),{rows:n,maxColumnLength:a,columnsAlignment:r}}function L(e){return{rowCount:e.size,columnCount:e.first().size}}function y(e,t){var n=0;return e.forEach((function(e){var a=e.get(t)||"";a.endsWith("<br>")&&(a=a.slice(0,-4)),n=Math.max(a.length,n)})),n}var I={"&amp;":"&","&lt;":"<","&gt;":">","&nbsp;":" "};var j=n(10);function A(e){var t,n=e.rowIndex,c=e.columnIndex,o=function(e){var t=e||"",n=(t=t.replace(/\\\|/g,"|")).split("<br>");for(var a in I)for(var r=0;r<n.length;r++)n[r]=n[r].replace(new RegExp(I[a],"g"),a);return n.join("<br>")}(Object(l.c)(E(n,c))),u=Object(l.c)(function(e,t){return function(n){return n.table.get(d.State.activeRow)===e&&n.table.get(d.State.activeColumn)===t&&n.table.get(d.State.editingCell)}}(n,c)),m=Object(l.c)(p(n,c)),f=Object(l.c)(O(c)),g=Object(l.c)(function(e,t){return function(n){return n.table.get(d.State.activeRow)===e&&n.table.get(d.State.activeColumn)===t}}(n,c)),b=Object(l.b)(),v=function(e){return b(function(e){return{type:"TABLE_MOVE_ACTIVE_CELL",payload:{direction:e}}}(e))},_=Object(a.useRef)();u&&_&&_.current.el.current.focus();var w=0===n,T=u&&_&&!m&&!w;return r.a.createElement("td",{className:i()({extra:m,"table-head":w})},T&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"insert-row"},r.a.createElement(j.c,{className:"insert-icon",onClick:function(){return b(function(e){return{type:"TABLE_INSERT_ROW",payload:{rowIndex:e}}}(n))}})),r.a.createElement("div",{className:"insert-column"},r.a.createElement(j.c,{className:"insert-icon",onClick:function(){return b(function(e){return{type:"TABLE_INSERT_COLUMN",payload:{columnIndex:e}}}(c))}}))),r.a.createElement(h.a,{ref:_,html:o||"",onChange:function(e){return b(function(e,t,n,a){return{type:"TABLE_EDIT_CELL",payload:{rowIndex:e,columnIndex:t,editingCell:a,value:n}}}(n,c,function(e){var t=e||"";for(var n in I)t=t.replace(new RegExp(n,"g"),I[n]);return t=t.replace(/\|/g,"\\|")}(e.target.value),!0))},onFocus:function(){return b(s(n,c))},className:i()("cell-value",(t={},Object(C.a)(t,"align-"+f,f),Object(C.a)(t,"cell-focused",g&&!u),t)),onKeyDown:function(e){if(e.ctrlKey||e.metaKey)switch(e.key){case"ArrowDown":v("down");break;case"ArrowUp":v("up")}}}))}var N=n(9);function x(e){var t=e.rowIndex,n=e.columnIndex,a=Object(l.c)(p(t,n)),c=Object(l.c)(function(e){return function(t){return void 0!==e&&t.table.get(d.State.activeRow)===e}}(t)),o=Object(l.c)(function(e){return function(t){return void 0!==e&&t.table.get(d.State.activeColumn)===e}}(n)),u=Object(l.b)(),i=0===t,s=c||o,m=Object(N.b)({opacity:s?1:0,from:{opacity:0},delay:250}),E=s&&r.a.createElement(N.a.div,{style:m},r.a.createElement(j.b,{className:"delete-icon",size:24,onClick:function(){return u(void 0!==t?function(e){return{type:"TABLE_DELETE_ROW",payload:{rowIndex:e}}}(t):function(e){return{type:"TABLE_DELETE_COLUMN",payload:{columnIndex:e}}}(n))}}));return r.a.createElement("td",{className:"delete-cell"},!i&&!a&&E)}function S(e){var t=e.rowIndex,n=e.deleteRow,a=Object(l.c)(b()),c=Array(a+1).fill(0);return r.a.createElement("tr",null,r.a.createElement(x,{rowIndex:t}),c&&c.map((function(e,a){return n?r.a.createElement(x,{key:a,columnIndex:a}):r.a.createElement(A,{key:a,rowIndex:t,columnIndex:a})})))}n(23);function R(){var e=Object(l.c)(g()),t=Array(e+1).fill(0);return r.a.createElement("table",{className:"editable"},r.a.createElement("tbody",null,r.a.createElement(S,{key:"delete-row",deleteRow:!0}),t&&t.map((function(e,t){return r.a.createElement(S,{key:t,rowIndex:t})}))))}function B(e){var t=e.rowIndex,n=e.columnIndex,a=Object(l.c)(E(t,n,{removeLastBR:!0})),c=Object(l.c)(v(n)),o=Object(l.c)((function(e){return e.table.get("adjustWidth")})),u=Object(l.c)(_(n)),i="";if(o){u=Math.max(u,3);var s=a&&a.length||0;u-s>0&&(i=" ".repeat(u-s))}return r.a.createElement("span",null,"| ",a,i," ",c&&"|")}function M(e){var t=e.rowIndex,n=Object(l.c)(b()),a=Array(n).fill().map((function(e,n){return r.a.createElement(B,{key:n,rowIndex:t,columnIndex:n})}));return r.a.createElement("div",null,a)}function k(e){var t=e.columnIndex,n=Object(l.c)(v(t)),a=Object(l.c)(_(t)),c=Object(l.c)(O(t)),o="---";Object(l.c)((function(e){return e.table.get("adjustWidth")}))&&a>3&&(o=Array(a).fill("-").join(""));var u="left"===c||"center"===c?":":" ",i="right"===c||"center"===c?":":" ";return r.a.createElement("span",null,"|",u,o,i,n&&"|")}function D(){var e=Object(l.c)((function(e){return e.table.get("columnCount")})),t=Array(e).fill().map((function(e,t){return r.a.createElement(k,{key:t,columnIndex:t})}));return r.a.createElement("div",null,t)}function W(){for(var e=Object(l.c)(g()),t=[],n=0;n<e;n++)t.push(r.a.createElement(M,{key:n,rowIndex:n})),0===n&&t.push(r.a.createElement(D,{key:"delimiter"}));return r.a.createElement("div",{className:"md-table"},t)}n(40);function U(){var e,t=Object(l.b)(),n=Object(l.c)((e={removeLastBR:!0},function(t){return f(t,t.table.get(d.State.activeRow),t.table.get(d.State.activeColumn),e)}));return r.a.createElement("input",{className:"cell-value-input",value:n||"",onFocus:function(){return t({type:"TABLE_FOCUS_TOOLBAR_INPUT"})},onChange:function(e){return t(function(e){return{type:"TABLE_EDIT_ACTIVE_CELL",payload:{value:e}}}(e.target.value))},disabled:!n})}var G=n(8),V=n(17),z=n(11),F=n.n(z);function P(e){var t,n=e.selected,a=void 0!==n&&n,c=e.children,o=e.icon,l=e.type,u=e.size,s=Object(V.a)(e,["selected","children","icon","type","size"]),m=[],d=l&&l.split(" ");d&&d.forEach((function(e){return m.push(F.a["type-"+e])}));var E=i()(F.a.button,m,(t={},Object(C.a)(t,F.a.enabled,a),Object(C.a)(t,F.a["size-"+u],u),t));return r.a.createElement("button",Object.assign({className:E},s),o&&r.a.createElement("span",{className:F.a.icon},o),c&&r.a.createElement("div",{className:F.a.text},c))}var H={left:G.b,right:G.c,center:G.a},X={left:"Left",right:"Right",center:"Center"};function J(e){var t=e.alignment,n=Object(l.b)(),a=Object(l.c)((function(e){return e.table.get("activeColumn")})),c=Object(l.c)(O(a)),o=H[t];return r.a.createElement(P,{onClick:function(){n(function(e,t){return{type:"TABLE_SET_COLUMN_ALIGNMENT",payload:{columnIndex:e,alignment:t}}}(a,t!==c?t:null))},selected:c===t,icon:r.a.createElement(o,null)},X[t])}function K(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.table.get("adjustWidth")})),n=r.a.createElement(j.a,{size:"1.4em"});return r.a.createElement(P,{onClick:function(){e({type:"TABLE_TOGGLE_ADJUST_WIDTH"})},selected:!t,icon:n},"Compact")}function q(e){var t=Object.assign({},e),n=Object(l.b)(),a=Object(l.c)((function(e){return e.settings.get("fullscreen")})),c=r.a.createElement(G.e,null),o=a?"Exit Fullscreen":"Fullscreen Mode";return r.a.createElement(P,Object.assign({icon:c,onClick:function(){return n({type:"SETTINGS_SET_FULLSCREEN",payload:{fullscreen:!a}})}},t),o)}var $=n(16),Q=n(26),Y=n(12),Z=n.n(Y);function ee(e){var t=e.isOpen,n=e.className,c=e.children,o=e.toggle,l=Object(a.useState)(!1),u=Object($.a)(l,2),s=u[0],m=u[1],d=Object(a.useRef)();Object(a.useEffect)((function(){t&&m(t)}),[t]);var E=Object(N.b)({opacity:t?1:0,onRest:function(){return!t&&m(!1)},config:{precision:.5}}),f=Object(N.b)({top:t?"50%":"55%"});return s&&r.a.createElement(N.a.div,{role:"dialog",tabIndex:"-1",className:Z.a.background,style:E,onClick:function(e){o&&e.target===d.current&&o()},ref:d},r.a.createElement(N.a.div,{className:i()(Z.a.modal,n),style:f},c))}function te(e){var t=e.className,n=e.children,a=e.toggle;return r.a.createElement("div",{className:i()(Z.a.header,t)},n,r.a.createElement("button",{className:Z.a.closeButton,onClick:a},r.a.createElement(Q.a,{size:16})))}function ne(e){var t=e.className,n=e.children;return r.a.createElement("div",{className:i()(Z.a.body,t)},n)}function ae(e){var t=e.className,n=e.children;return r.a.createElement("div",{className:i()(Z.a.footer,t)},n)}var re=n(27),ce=n.n(re);function oe(e){var t=e.className,n=Object(V.a)(e,["className"]);return r.a.createElement("textarea",Object.assign({className:i()(ce.a.textArea,t)},n))}var le=n(14),ue=n.n(le);function ie(){var e=Object(a.useState)(""),t=Object($.a)(e,2),n=t[0],c=t[1],o=Object(l.c)((function(e){return e.settings.get("importModalOpen")})),u=Object(l.b)(),i=function(){return u({type:"SETTINGS_HIDE_IMPORT_MODAL"})};return r.a.createElement(ee,{isOpen:o,className:ue.a.importMarkdownModal,toggle:i},r.a.createElement(te,{toggle:i},"Import Markdown"),r.a.createElement(ne,null,r.a.createElement("p",null,"Paste or type the table markdown below."),r.a.createElement(oe,{className:ue.a.importMarkdownTextArea,rows:10,placeholder:"(Any line that doesn't start with | is ignored).\n",value:n,onChange:function(e){return c(e.target.value)}})),r.a.createElement(ae,null,r.a.createElement(P,{type:"colorful",size:"medium",onClick:function(){u(m(n)),i()}},"Import"),r.a.createElement(P,{size:"medium",onClick:i},"Cancel")))}function se(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(l.b)();Object(a.useEffect)((function(){n(m("| Hello there | I'm a sample | Table!          |\n| ----------- |:------------:| ---------------:|\n| Type        | anything     | here.           |\n| Markdown    | is           | neat and cool!  |\n| Inner cell  | MD support   | is WIP \\| soon. |"))}),[n]);var c=function(a){a.target!==e.current&&a.target!==t.current||n({type:"TABLE_CLEAR_ACTIVE_CELL"})},o=Object(l.c)((function(e){return e.settings.get("fullscreen")}));return r.a.createElement("div",{className:i()("main-editor",{"main-editor-windowed":!o})},r.a.createElement("div",{className:"toolbar"},r.a.createElement("div",{className:"main-buttons"},r.a.createElement(U,null),r.a.createElement("button",{onClick:function(e){console.log(window.getSelection());var t,a,r=window.getSelection();console.log(r.anchorNode.parentNode.className),"cell-value"===r.anchorNode.parentNode.className&&(console.log("CELL!"),n((t=r.anchorOffset,a=r.focusOffset,{type:"TABLE_FORMAT_ACTIVE_CELL",payload:{start:t,end:a,tag:"code"}})))}},"Code"),r.a.createElement(J,{alignment:"left"}),r.a.createElement(J,{alignment:"center"}),r.a.createElement(J,{alignment:"right"}),r.a.createElement(K,null)),r.a.createElement(q,{type:"flat"})),r.a.createElement("div",{className:"pane-view"},r.a.createElement("div",{className:"editor-pane",ref:e,onMouseDown:c},r.a.createElement(R,null)),r.a.createElement("div",{className:"markdown-pane",ref:t,onMouseDown:c},r.a.createElement(W,null))),r.a.createElement(ie,null))}function me(e){var t=Object.assign({},e),n=Object(l.b)(),a=r.a.createElement(G.d,null);return r.a.createElement(P,Object.assign({icon:a,onClick:function(){return n({type:"SETTINGS_SHOW_IMPORT_MODAL"})}},t),"Import Markdown")}function de(){return r.a.createElement("section",{className:i()(ue.a.mainContent,ue.a.landingPage)},r.a.createElement("h1",null,"Markdown Tables Generator"),r.a.createElement("p",null,"Easily generate Markdown tables without being an ASCII art professional. Built using React and Redux."),r.a.createElement("p",null,r.a.createElement(q,{type:"colorful highlight",size:"medium"}),r.a.createElement(me,{type:"colorful highlight",size:"medium"})))}var Ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null),r.a.createElement(se,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=n(13),ge=n(6),be=Object(ge.b)({activeRow:null,activeColumn:null,editingCell:null,rowCount:3,columnCount:3,adjustWidth:!0,maxColumnLength:Object(ge.a)(),columnsAlignment:Object(ge.a)(),rows:Object(ge.a)([Object(ge.a)(["","",""]),Object(ge.a)(["","",""]),Object(ge.a)(["","",""])])});var ve=Object(ge.b)({fullscreen:!1,theme:"light",importModalOpen:!1});var _e=Object(fe.b)({table:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"TABLE_EDIT_CELL":case"TABLE_EDIT_ACTIVE_CELL":var r=e.get("rowCount"),c=e.get("columnCount"),o=a.rowIndex,l=a.columnIndex,u=a.editingCell,i=a.value;return void 0===o&&void 0===l&&(o=e.get("activeRow"),l=e.get("activeColumn")),e.withMutations((function(e){e.set("editingCell",u),o===r&&(e.set("rowCount",o+1),e.set("rows",e.get("rows").push(Object(ge.a)([])))),l===c&&e.set("columnCount",c+1),e.setIn(["rows",o,l],i);var t=y(e.get("rows"),l);e.setIn(["maxColumnLength",l],t)}));case"TABLE_FOCUS_TOOLBAR_INPUT":return e.set("editingCell",!1);case"TABLE_FOCUS_CELL_INPUT":return e.set("editingCell",!0);case"TABLE_FORMAT_ACTIVE_CELL":var s=t.payload,m=s.start,d=s.end,E=s.tag,f=e.get("activeRow"),g=e.get("activeColumn"),b=e.getIn(["rows",f,g]),v=[];return v.push(b.substring(0,m)),v.push("<".concat(E,">").concat(b.substring(m,d),"</").concat(E,">")),v.push(b.substring(d)),e.setIn(["rows",f,g],v.join(""));case"TABLE_INSERT_ROW":var _=e.get("rowCount"),p=e.get("rows");return p=p.insert(t.payload.rowIndex,Object(ge.a)([])),e.merge({rowCount:_+1,rows:p});case"TABLE_INSERT_COLUMN":var O=t.payload.columnIndex,C=e.get("columnCount")+1,w=e.get("rows");w=w.map((function(e){return e.insert(O,"")}));var h=e.get("maxColumnLength").insert(O,y(w),O);return e.merge({columnCount:C,rows:w,maxColumnLength:h});case"TABLE_DELETE_ROW":var I=e.get("rowCount"),j=a.rowIndex;return(e=e.set("rowCount",I-1)).deleteIn(["rows",j]);case"TABLE_DELETE_COLUMN":var A=e.get("columnCount"),N=a.columnIndex,x=e.get("rows");return x=x.map((function(e){return e.filter((function(e,t){return t!==N}))})),e.merge({rows:x,columnCount:A-1});case"TABLE_SET_COLUMN_ALIGNMENT":var S=a.columnIndex,R=a.alignment;return e.setIn(["columnsAlignment",S],R);case"TABLE_TOGGLE_ADJUST_WIDTH":var B=e.get("adjustWidth");return e.set("adjustWidth",!B);case"TABLE_CLEAR_ACTIVE_CELL":return e.set({activeRow:null,activeColumn:null});case"TABLE_SET_ACTIVE_CELL":var M=a.activeRow,k=a.activeColumn;return e.merge({activeRow:M,activeColumn:k,editingCell:!0});case"TABLE_MOVE_ACTIVE_CELL":var D=e.get("activeRow"),W=e.get("rowCount")+1,U=0;switch(a.direction){case"down":U=1;break;case"up":U=-1;break;default:return e}return e.set("activeRow",(W+D+U)%W);case"TABLE_IMPORT_DATA":var G=T(t.payload.markdown),V=G.rows,z=G.maxColumnLength,F=G.columnsAlignment,P=Object(ge.c)(V),H=L(P),X=H.rowCount,J=H.columnCount;return e.merge({rows:P,maxColumnLength:Object(ge.c)(z),columnsAlignment:Object(ge.c)(F),rowCount:X,columnCount:J});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SETTINGS_SET_FULLSCREEN":return e.set("fullscreen",a.fullscreen);case"SETTINGS_HIDE_IMPORT_MODAL":return e.set("importModalOpen",!1);case"SETTINGS_SHOW_IMPORT_MODAL":return e.set("importModalOpen",!0);default:return e}}}),pe=Object(fe.c)(_e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(r.a.createElement(l.a,{store:pe},r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.d783e05d.chunk.js.map